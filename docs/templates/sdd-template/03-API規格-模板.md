# [專案名稱] - API 規格文件

## 文件資訊

| 項目 | 內容 |
|------|------|
| 文件版本 | [版本號] |
| 最後更新 | [日期] |
| 文件類型 | 軟體設計文件 (SDD) - API 規格 |
| API 版本 | [API 版本，如 v1] |

---

## 1. API 概述

### 1.1 基本資訊

<!-- TODO: 填寫 API 的基本資訊 -->

- **基礎 URL**: `[協定]://[主機]:[埠號]`
- **協定**: [HTTP/HTTPS]
- **API 版本**: [版本號]
- **API 前綴**: `[前綴路徑，如 /api/v1]`
- **認證方式**: [認證方式，如 JWT Bearer Token]
- **回應格式**: [格式，如 JSON]
- **字元編碼**: [編碼，如 UTF-8]

<!-- 範例：
- **基礎 URL**: `https://api.example.com`
- **API 前綴**: `/api/v1`
- **認證方式**: JWT Bearer Token
-->

### 1.2 通用回應格式

<!-- TODO: 定義統一的回應格式 -->

所有 API 端點統一使用以下回應格式：

```json
{
  "code": [狀態碼],
  "message": "[訊息]",
  "data": {...}
}
```

#### 狀態碼說明

| HTTP 狀態碼 | code | 說明 |
|------------|------|------|
| 200 | 200 | 成功 |
| 201 | 201 | 建立成功 |
| 400 | 400 | 請求參數錯誤 |
| 401 | 401 | 未授權 |
| 403 | 403 | 禁止訪問 |
| 404 | 404 | 資源不存在 |
| 500 | 500 | 伺服器錯誤 |

<!-- 💡 可根據專案需求調整狀態碼 -->

### 1.3 認證機制

<!-- TODO: 說明認證方式 -->

**認證方式**：[詳細說明，如 JWT]

**Header 格式**：
```
Authorization: Bearer {your-token}
```

**令牌取得**：透過 [登入端點] 取得

---

## 2. [功能模組 1] API

<!-- TODO: 按功能模組組織 API，每個模組一個章節 -->

### 2.1 [端點 1 名稱]

**端點**: `[HTTP 方法] [端點路徑]`

**描述**: [端點功能描述]

**權限**: [權限要求，如：公開 / 需要認證 / 需要特定權限]

**請求範例**:
```json
{
  "[參數1]": "[值]",
  "[參數2]": "[值]"
}
```

**請求參數**:

| 參數名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| [參數1] | [類型] | ✅/❌ | [說明] |
| [參數2] | [類型] | ✅/❌ | [說明] |

**回應範例**:
```json
{
  "code": 200,
  "message": "成功",
  "data": {
    "[欄位1]": "[值]",
    "[欄位2]": "[值]"
  }
}
```

**回應欄位**:

| 欄位名稱 | 類型 | 說明 |
|---------|------|------|
| [欄位1] | [類型] | [說明] |
| [欄位2] | [類型] | [說明] |

**錯誤回應**:

| 錯誤碼 | 說明 | 處理方式 |
|-------|------|---------|
| [錯誤碼] | [說明] | [處理方式] |

<!-- 完整範例：

### 2.1 使用者登入

**端點**: `POST /auth/login`

**描述**: 使用者登入並取得 JWT 令牌

**權限**: 公開

**請求範例**:
```json
{
  "username": "admin",
  "password": "password123"
}
```

**請求參數**:

| 參數名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| username | string | ✅ | 使用者名稱 |
| password | string | ✅ | 密碼 |

**回應範例**:
```json
{
  "code": 200,
  "message": "登入成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "admin"
    }
  }
}
```

-->

### 2.2 [端點 2 名稱]

<!-- TODO: 複製上方格式，填寫第二個端點 -->

---

## 3. [功能模組 2] API

<!-- TODO: 複製第 2 章的結構，填寫其他功能模組 -->

---

## 4. 資料模型定義

<!-- TODO: 定義常用的資料模型 -->

### 4.1 [模型 1 名稱]

```json
{
  "[欄位1]": "[類型]",
  "[欄位2]": "[類型]",
  "[欄位3]": {
    "[子欄位1]": "[類型]",
    "[子欄位2]": "[類型]"
  }
}
```

**欄位說明**:

| 欄位名稱 | 類型 | 必填 | 說明 | 範例 |
|---------|------|------|------|------|
| [欄位1] | [類型] | ✅/❌ | [說明] | [範例值] |
| [欄位2] | [類型] | ✅/❌ | [說明] | [範例值] |

<!-- 範例：

### 4.1 使用者模型

```json
{
  "id": 1,
  "username": "admin",
  "email": "admin@example.com",
  "role": {
    "id": 1,
    "name": "admin"
  },
  "is_active": true,
  "created_at": "2024-01-01T00:00:00Z"
}
```

-->

---

## 5. 錯誤處理

### 5.1 錯誤回應格式

<!-- TODO: 定義錯誤回應的格式 -->

```json
{
  "code": [錯誤碼],
  "message": "[錯誤訊息]",
  "data": null,
  "errors": [
    {
      "field": "[欄位名稱]",
      "message": "[詳細錯誤訊息]"
    }
  ]
}
```

### 5.2 常見錯誤碼

<!-- TODO: 列出常見錯誤碼及處理方式 -->

| code | 說明 | 解決方式 |
|------|------|---------|
| [錯誤碼] | [說明] | [解決方式] |

<!-- 範例：
| 401 | JWT 令牌無效或過期 | 重新登入取得新令牌 |
| 403 | 權限不足 | 聯繫管理員授予權限 |
-->

---

## 6. API 使用範例

### 6.1 使用 curl

<!-- TODO: 提供 curl 使用範例 -->

```bash
# [範例 1 說明]
curl -X [方法] [URL] \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [TOKEN]" \
  -d '[請求 body]'
```

<!-- 完整範例：

```bash
# 1. 登入取得令牌
TOKEN=$(curl -X POST https://api.example.com/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}' \
  | jq -r '.data.token')

# 2. 使用令牌呼叫 API
curl -X GET https://api.example.com/api/v1/users \
  -H "Authorization: Bearer $TOKEN"
```

-->

### 6.2 使用 [程式語言]

<!-- 📝 選填：提供程式語言範例 -->

```[語言]
// TODO: 填寫程式碼範例
```

---

## 7. API 最佳實踐

<!-- 📝 選填：但建議填寫 -->

### 7.1 請求最佳化

- ✅ **[建議 1]**：[說明]
- ✅ **[建議 2]**：[說明]

<!-- 範例：
- ✅ **使用分頁**：大量資料查詢時使用 limit 和 offset
- ✅ **欄位篩選**：使用 fields 參數只回傳需要的欄位
-->

### 7.2 錯誤處理

- ✅ **[建議 1]**：[說明]
- ✅ **[建議 2]**：[說明]

### 7.3 安全建議

- 🔒 **[建議 1]**：[說明]
- 🔒 **[建議 2]**：[說明]

---

## 8. 速率限制

<!-- 📝 選填：如有速率限制則填寫 -->

| 端點類型 | 限制 | 時間視窗 |
|---------|------|---------|
| [類型 1] | [限制] | [時間] |
| [類型 2] | [限制] | [時間] |

<!-- 範例：
| 公開端點 | 100 次 | 每分鐘 |
| 認證端點 | 1000 次 | 每分鐘 |
-->

**超過限制回應**:
```json
{
  "code": 429,
  "message": "請求過於頻繁，請稍後再試"
}
```

---

## 9. API 版本控制

<!-- TODO: 說明 API 版本控制策略 -->

當前版本：**[版本號]**

**版本更新規則**：
- **向下相容變更**：[說明]
- **破壞性變更**：[說明]
- **舊版本支援期**：[時間]

---

## 10. Swagger 文件

<!-- TODO: 如有 Swagger，提供連結 -->

互動式 API 文件：
```
[Swagger UI URL]
```

<!-- 範例：
http://api.example.com/swagger/index.html
-->

---

## 11. API 端點總覽

<!-- TODO: 提供所有端點的快速參考表 -->

| 端點 | 方法 | 權限 | 說明 |
|------|------|------|------|
| [路徑] | [方法] | [權限] | [說明] |

<!-- 範例：
| /auth/login | POST | 公開 | 使用者登入 |
| /api/v1/users | GET | 認證 | 取得使用者列表 |
| /api/v1/users | POST | admin | 建立使用者 |
-->

---

**文件結束**

<!--
檢查清單：
□ 所有 [佔位符] 都已替換
□ 所有端點都已文件化
□ 請求/回應範例都已驗證
□ 錯誤碼都已定義
□ curl 範例都已測試
□ 資料模型都已定義
□ Swagger 連結已提供（如有）
-->
